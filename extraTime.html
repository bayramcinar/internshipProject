<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Extra Time Page</title>
    <link href="./style.css" rel="stylesheet" />
    <link
      rel="stylesheet"
      href="node_modules/tailwindcss/dist/tailwind.min.css"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
  </head>
  <body>
    <div class="h-screen my-auto flex items-center justify-center">
      <div class="lg:flex mx-2 lg:mx-48 lg:min-h-[700px] w-[350px] lg:w-auto">
        <div
          class="imgArea bg-[#ffd500] text-[#383838] px-14 flex-grow lg:w-[800px] flex flex-col items-center justify-center py-5 lg:py-10 lg:px-14 rounded-t-3xl lg:rounded-t-none lg:rounded-l-xl"
        >
          <div class="m-8">
            <img
              src="./extraTime.png"
              class="w-24 h-24 lg:w-40 lg:h-40 imgFoto bg-[#ffad00] p-1 lg:p-2 rounded-full"
              alt=""
            />
          </div>
          <div>
            <h1
              class="text-sm md:text-md lg:text-xl xl:text-2xl font-extrabold text-center"
            >
              Fazla Mesai Girişi
            </h1>
            <h1 class="text-sm xl:text-md font-medium text-center my-4">
              Forumda bulunan bilgileri doldurarak fazla mesai girişi
              yapabilirsiniz.
            </h1>
          </div>
          <i
            class="fa-solid fa-circle-chevron-right md:text-2xl xl:text-4xl"
          ></i>
        </div>
        <div
          class="container flex flex-col items-center justify-center formArea flex-grow bg-white rounded-b-3xl lg:rounded-r-3xl lg:rounded-b-none"
        >
          <form class="p-4 lg:p-16 w-full">
            <div class="mb-4 flex">
              <label
                for="laboratuvar"
                class="block text-sm font-medium text-gray-700 my-auto mr-2 w-1/3"
                >Laboratuvar</label
              >
              <select
                id="laboratuvar"
                name="laboratuvar"
                class="mt-1 block border-gray-300 rounded-md shadow-sm sm:text-sm bg-gray-100 text-gray-600 p-3 w-2/3"
              >
                <option value="">Laboratuvar Seçiniz</option>
                <option value="lab1">Laboratuvar 1</option>
                <option value="lab2">Laboratuvar 2</option>
                <option value="lab3">Laboratuvar 3</option>
              </select>
            </div>
            <div class="mb-4 flex">
              <label
                for="laboratuvarGrubu"
                class="block text-sm font-medium text-gray-700 my-auto mr-2 w-1/3"
                >Laboratuvar Grubu</label
              >
              <select
                id="laboratuvarGrubu"
                name="laboratuvarGrubu"
                class="mt-1 block border-gray-300 rounded-md shadow-sm sm:text-sm bg-gray-100 text-gray-600 p-3 w-2/3"
              >
                <option value="">Laboratuvar Grubu Seçiniz</option>
                <option value="group1">Grup 1</option>
                <option value="group2">Grup 2</option>
                <option value="group3">Grup 3</option>
              </select>
            </div>
            <div class="mb-4 flex">
              <label
                for="personeller"
                class="block text-sm font-medium text-gray-700 my-auto mr-2 w-1/3"
                >Personeller</label
              >
              <div class="w-2/3">
                <div class="flex items-center">
                  <input
                    type="checkbox"
                    id="selectAll"
                    name="selectAll"
                    class="mr-2"
                  />
                  <label for="selectAll" class="text-sm text-gray-700"
                    >Tümünü Seç</label
                  >
                </div>
                <div id="personelListesi" class="mt-1">
                  <div>
                    <input type="checkbox" id="person1" class="mr-2" />
                    <label for="person1">Personel 1</label>
                  </div>
                  <div>
                    <input type="checkbox" id="person2" class="mr-2" />
                    <label for="person2">Personel 2</label>
                  </div>
                  <div>
                    <input type="checkbox" id="person3" class="mr-2" />
                    <label for="person3">Personel 3</label>
                  </div>
                </div>
              </div>
            </div>
            <div class="mb-4 flex">
              <label
                for="fazlaMesaiTipi"
                class="block text-sm font-medium text-gray-700 my-auto mr-2 w-1/3"
                >Fazla Mesai Tipi</label
              >
              <select
                id="fazlaMesaiTipi"
                name="fazlaMesaiTipi"
                class="mt-1 block border-gray-300 rounded-md shadow-sm sm:text-sm bg-gray-100 text-gray-600 p-3 w-2/3"
              >
                <option value="">Fazla Mesai Tipi Seçiniz</option>
                <option value="normal">Normal</option>
                <option value="haftasonu">Hafta Sonu</option>
                <option value="gece">Gece</option>
              </select>
            </div>
            <div class="mb-4 flex">
              <label
                for="tarih"
                class="block text-sm font-medium text-gray-700 my-auto mr-2 w-1/3"
                >Tarih</label
              >
              <input
                min=""
                type="date"
                id="tarih"
                name="tarih"
                class="mt-1 block border-gray-300 rounded-md shadow-sm sm:text-sm bg-gray-100 text-gray-600 p-3 w-2/3"
                max=""
              />
            </div>
            <div class="mb-4 flex">
              <label
                for="sure"
                class="block text-sm font-medium text-gray-700 my-auto mr-2 w-1/3"
                >Mesai Başlangıç</label
              >
              <input
                type="time"
                id="sure"
                name="sure"
                class="mt-1 block border-gray-300 rounded-md shadow-sm sm:text-sm bg-gray-100 text-gray-600 p-3 w-2/3"
                min="0"
                max="24"
              />
            </div>
            <div class="mb-4 flex">
              <label
                for="sure"
                class="block text-sm font-medium text-gray-700 my-auto mr-2 w-1/3"
                >Mesai Bitiş</label
              >
              <input
                type="time"
                id="sure"
                name="sure"
                class="mt-1 block border-gray-300 rounded-md shadow-sm sm:text-sm bg-gray-100 text-gray-600 p-3 w-2/3"
                min="0"
                max="24"
              />
            </div>
            <div class="flex items-center justify-center">
              <button
                type="submit"
                class="inline-flex items-center justify-center py-2 border border-transparent rounded-md font-semibold text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 w-full text-center"
              >
                Kaydet
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </body>
  <script>
    //DATE DE MİN VE MAX TARİH BU GÜN OLACAK ŞEKİLDE AYARLANAN YER
    const today = new Date().toISOString().split("T")[0];
    const dateInput = document.getElementById("tarih");
    dateInput.setAttribute("min", today);
    dateInput.setAttribute("max", today);

    document.addEventListener("DOMContentLoaded", function () {
      const laboratuvarSelect = document.getElementById("laboratuvar");
      const laboratuvarGrubuSelect =
        document.getElementById("laboratuvarGrubu");
      const selectAllCheckbox = document.getElementById("selectAll");
      const personelListesi = document.getElementById("personelListesi");

      //ÖRNEK PERSONEL LİSTESİ BU SEÇİMLERE GÖRE PERSONELLER ÇIKIYOR.
      const personelData = [
        { name: "Personel 1", lab: "lab1", group: "group1" },
        { name: "Personel 2", lab: "lab2", group: "group2" },
        { name: "Personel 3", lab: "lab3", group: "group1" },
      ];

      //LABORATUVAR SEÇMEDEN GRUP SEÇEMEMEMİZİ SAĞLAYAN FONKSİYON
      laboratuvarGrubuSelect.disabled = true;

      laboratuvarSelect.addEventListener("change", function () {
        laboratuvarGrubuSelect.disabled = laboratuvarSelect.value === "";
        laboratuvarGrubuSelect.value = "";
        listPersonel();
      });

      laboratuvarGrubuSelect.addEventListener("change", function () {
        listPersonel();
      });

      //TÜMÜNÜ SEÇ FONKSİYONU
      selectAllCheckbox.addEventListener("change", function () {
        const checkboxes = document.querySelectorAll(
          "#personelListesi input[type='checkbox']"
        );
        checkboxes.forEach((checkbox) => {
          checkbox.checked = selectAllCheckbox.checked;
        });
      });

      function listPersonel() {
        const selectedLab = laboratuvarSelect.value;
        const selectedGroup = laboratuvarGrubuSelect.value;
        personelListesi.innerHTML = "";

        personelData.forEach((personel) => {
          if (
            (selectedLab === "" || personel.lab === selectedLab) &&
            (selectedGroup === "" || personel.group === selectedGroup)
          ) {
            const div = document.createElement("div");
            const checkbox = document.createElement("input");
            const label = document.createElement("label");

            checkbox.type = "checkbox";
            checkbox.id = personel.name;
            checkbox.classList.add("mr-2");

            label.htmlFor = personel.name;
            label.textContent = personel.name;

            div.appendChild(checkbox);
            div.appendChild(label);

            personelListesi.appendChild(div);
          }
        });
      }
    });
  </script>
</html>
